(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/empty-cart.afa6a28d.png"},23:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(17),c=a.n(i),r=a(5),s=a(6),o=a(8),d=a(7),m=a(9),u=a(10),h=a(35),p=a(36),f=a(37),v=a(34),E=(a(11),function(){return l.a.createElement("nav",{className:"stickyyy light-green darken-1"},l.a.createElement("div",{className:"container",style:{display:"flex",flexDirection:"column",width:"100%"}},l.a.createElement("div",{className:"bhjs",style:{display:"flex",alignSelf:"flex-start",marginLeft:"10%",position:"absolute",justifyContent:"center",marginRight:"30px",width:"200px"}},l.a.createElement(v.a,{to:"/",className:"brand-logo",style:{display:"flex",width:"180px"}},"Phuchki")),l.a.createElement("div",{className:"rightso",style:{display:"flex",alignSelf:"flex-end",justifyContent:"left",marginRight:"0px",marginLeft:"30%",width:"220px"}},l.a.createElement("ul",{className:"rightoo",style:{width:"250px",justifyContent:"left"}},l.a.createElement("li",null,l.a.createElement(v.a,{to:"/"},"Shop")),l.a.createElement("li",null,l.a.createElement(v.a,{to:"/cart"},"My Cart")),l.a.createElement("li",null,l.a.createElement(v.a,{to:"/cart"},l.a.createElement("i",{className:"material-icons"},"shopping_cart")))))))}),y=a(21),g=a(18),b=a(22),w=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.src,n=e.height,i=e.width,c=e.style,r=Object(b.a)(e,["mode","src","height","width","style"]),s={fill:"cover",fit:"contain"}[t]||"contain",o={height:n||100,width:i||100,backgroundColor:"transparent"},d={backgroundImage:'url("'.concat(a,'")'),backgroundSize:s,backgroundPosition:"center center",backgroundRepeat:"no-repeat"};return l.a.createElement("div",Object.assign({},r,{style:Object(g.a)({},o,c,d)}))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){var t=a.state.items.find(function(t){return t.id===e});if(a.state.cartItems.find(function(t){return e===t.id}))t.quantity+=1,a.props.handleUpdate(a.state.cartItems,a.state.total+t.price);else{t.quantity=1;var n=a.state.total+t.price;a.props.handleUpdate(Object(y.a)(a.state.cartItems).concat([t]),n)}},a.state={cartItems:a.props.data.cartItems,items:a.props.data.items,total:a.props.data.total},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.isLoading?null:this.props.data.items.map(function(t){return l.a.createElement("div",{className:"card",key:t.id,style:{width:"300px",margin:"15px"}},l.a.createElement("div",{className:"card-image"},l.a.createElement(w,{src:(a=t.image,null==a?"https://image.shutterstock.com/image-vector/ui-image-placeholder-wireframes-apps-260nw-1037719204.jpg":a),width:"300px",height:"200px",mode:"fill"}),l.a.createElement("span",{to:"/",className:"btn-floating halfway-fab waves-effect waves-light red",onClick:function(){e.handleClick(t.id)}},l.a.createElement("i",{className:"material-icons"},"add"))),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"card-title"},t.item_name),l.a.createElement("p",null,t.desc),l.a.createElement("p",null,t.flavour),l.a.createElement("p",null,l.a.createElement("b",null,"Price: \u20b9",t.price))));var a});return l.a.createElement("div",{className:"container",style:{marginTop:"15%"}},l.a.createElement("div",{className:"center"},l.a.createElement("h1",{className:"center"},"About Us"),l.a.createElement("p",{className:"center"},N)),l.a.createElement("div",{className:"divider"}),l.a.createElement("h3",{className:"center"},"Our Menu"),l.a.createElement("div",{className:"box",style:{display:"flex",justifyContent:"center"}},t),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"center",style:{alignSelf:"center"}},l.a.createElement("h1",{className:"center"},"Contact Us"),l.a.createElement("p",{className:"center"},N)))}}]),t}(n.Component),N="I love getting rewarded for my hard work";var j=a(12),O=a(19),C=a.n(O),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={txnid:"",form:"",response:"",showform:!1},a.formRef=l.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.cart,a={items:t.items,total_price:t.total_price,customer_name:t.customer_name,contact:t.contact,email:t.emailid,address:{pincode:t.address.pincode,add1:t.address.add1,add2:t.address.add2}};console.log("post data: ",a);var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch("http://phuchki.in/v1/createOrder/",n).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({response:t,form:t.data.pg_params}),t.status&&e.setState({showform:!0})}).then(function(){return e.handleSubmit()}).catch(function(e){console.log("error: ",e)})}},{key:"handleSubmit",value:function(){var e=this.state.form;console.log("posting to cashfree : ",e),fetch("https://test.cashfree.com/billpay/checkout/post/submit",{mode:"no-cors",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return this.state.showform?l.a.createElement("h1",null,"Success"):l.a.createElement("h1",null,"failed")}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){console.log(e.target.id," : ",e.target.value),a.setState(Object(j.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){if(console.log(a.state.cartItems),void 0==a.state.cartItems)alert("cart is empty!");else{console.log("yo");var e={items:a.state.cartItems.map(function(e){return{item_id:e.id,qty:e.quantity}}),total_price:a.props.data.total,customer_name:a.state.customer_name,contact:a.state.contact,emailid:a.state.emailid,address:{pincode:a.state.pincode,add1:a.state.add1,add2:a.state.add2}};a.verify_data(e)&&(console.log(e),a.setState({cartData:e,showPayment:!0}))}},a.handleRemove=function(e){var t=a.state.cartItems.find(function(t){return t.id===e}),n=a.state.cartItems.filter(function(t){return t.id!==e}),l=a.state.total-t.price*t.quantity;a.props.handleUpdate(n,l)},a.handlePay=function(){var e=!a.state.showForm;a.setState({showForm:e})},a.handleAddQuantity=function(e){var t=a.state.cartItems.find(function(t){return t.id===e});t.quantity+=1;var n=a.state.total+t.price;a.props.handleUpdate(a.state.cartItems,n)},a.handleSubtractQuantity=function(e){var t=a.state.cartItems.find(function(t){return t.id===e});if(1===t.quantity){var n=a.state.cartItems.filter(function(t){return t.id!==e}),l=a.state.total-t.price;a.props.handleUpdate(n,l)}else{t.quantity-=1;var i=a.state.total-t.price;a.props.handleUpdate(a.state.cartItems,i)}},a.state={cartItems:a.props.data.cartItems,total:a.props.data.total,available_pincodes:a.props.data.pincodes,showPayment:!1,customer_name:"",contact:"",pincode:"",add1:"",add2:"",emailid:"",cartData:{}},console.log(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"ValidateEmail",value:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e),!0}},{key:"verify_data",value:function(e){return e.items.length?e.customer_name.length<=2?(alert("please enter a valid name!"),!1):!/^\d+$/.test(e.contact)||e.contact.length<10||e.contact.length>12?(alert("please enter a valid phone number!"),!1):this.ValidateEmail(e.emailid)?e.address.add1.length<=2&&e.address.add2.length<=2?(alert("please enter a valid address!"),!1):6==e.address.pincode.length||(alert("please enter a valid pincode!",e.address.pincode),!1):(alert("please enter a valid email.id"),!1):(alert("your cart is empty!"),!1)}},{key:"render",value:function(){var e=this;if(this.state.showPayment)return l.a.createElement(k,{cart:this.state.cartData});var t=this.state.cartItems.map(function(e){return l.a.createElement("div",{className:"table"},l.a.createElement("div",{style:{width:"160px"}},e.item_name),l.a.createElement("div",{style:{width:"70px"}},e.quantity),l.a.createElement("div",{style:{width:"70px"}}," ",e.price))}),a=this.state.available_pincodes.length?this.state.available_pincodes.map(function(e){return l.a.createElement("option",{value:e},e)}):null,n=this.state.cartItems.length?this.state.cartItems.map(function(t){return l.a.createElement("div",{className:"collection-item avatar #fff9c4 yellow lighten-4",key:t.id,style:{display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px",height:"75px",margin:"5px",alignItems:"center"}},l.a.createElement("div",{className:"item-desc",style:{display:"flex",justifySelf:"center",width:"95%"}},l.a.createElement("div",{style:{float:"left",width:"55%",height:"100%",justifySelf:"flex-start"}},l.a.createElement("h6",null,t.item_name),l.a.createElement("p",null,l.a.createElement("b",null,"Price: \u20b9",t.price))),l.a.createElement("div",{className:"add-remove",style:{display:"flex",justifySelf:"flex-end",width:"40%",height:"100%",alignItems:"center"}},l.a.createElement(v.a,{to:"/cart"},l.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){e.handleAddQuantity(t.id)}},"arrow_drop_up")),l.a.createElement("b",{style:{float:"right",padding:"2px"}},"    ",t.quantity),l.a.createElement(v.a,{to:"/cart"},l.a.createElement("i",{className:"material-icons",style:{float:"right"},onClick:function(){e.handleSubtractQuantity(t.id)}},"arrow_drop_down")),l.a.createElement("button",{onClick:function(){e.handleRemove(t.id)}},"Remove"))))}):l.a.createElement("div",{className:"center_image",style:{width:"100%",maxWidth:"700px"}},l.a.createElement("p",null," "),l.a.createElement("img",{src:C.a,style:{width:"100%"}}));return l.a.createElement("div",{className:"cart ",style:{marginTop:"5em",marginBottom:"5em"}},l.a.createElement("h3",{className:"center-align"},"Shopping Cart"),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"container ",style:{with:"90%",display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap"}},l.a.createElement("div",{style:{float:"center",display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px"}},n),l.a.createElement(function(){return e.state.cartItems.length?l.a.createElement("div",{className:"card #b2ebf2 cyan lighten-4",style:{width:"350px",margin:"20px"}},l.a.createElement("div",{className:"card-content ",style:{width:"350px"}},l.a.createElement("span",{className:"card-title "},"Receipt"),l.a.createElement("div",null,l.a.createElement("div",{className:"table"},l.a.createElement("div",{style:{width:"160px"}},l.a.createElement("b",null,"Items")),l.a.createElement("div",{style:{width:"70px"}},l.a.createElement("b",null,"Quantity")),l.a.createElement("div",{style:{width:"70px"}},l.a.createElement("b",null," Price"))),l.a.createElement("div",{className:"divider"}),t,l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"table"},l.a.createElement("div",{style:{width:"160px"}},l.a.createElement("b",null,"Total:")),l.a.createElement("div",{style:{width:"70px"}}),l.a.createElement("div",{style:{width:"70px"}},l.a.createElement("b",null,e.state.total)))))):null},null)),l.a.createElement("div",{className:"divider"}),l.a.createElement("h3",{style:{textAlign:"center"}},"Details"),l.a.createElement("div",{className:"row",style:{width:"100%",maxWidth:"900px",textAlign:"center"}},l.a.createElement("form",{className:"col s12",onSubmit:this.handleSubmit,style:{alignContent:"center",width:"96%"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"customer_name",value:this.state.customer_name,onChange:this.handleChange,type:"text",className:"validate"}),l.a.createElement("label",{for:"customer_name"},"Name")),l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{id:"contact",value:this.state.contact,onChange:this.handleChange,type:"text",className:"validate"}),l.a.createElement("label",{for:"contact"},"Mobile No."))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"emailid",type:"text",value:this.state.emailid,onChange:this.handleChange,className:"validate"}),l.a.createElement("label",{for:"emailid"},"Email Id")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"add1",type:"text",value:this.state.add1,onChange:this.handleChange,className:"validate"}),l.a.createElement("label",{for:"add1"},"Address Line 1"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{id:"add2",type:"text",value:this.state.add2,onChange:this.handleChange,className:"validate"}),l.a.createElement("label",{for:"add2"},"Address Line 2")),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("select",{id:"pincode",className:"browser-default grey-text",onChange:this.handleChange},l.a.createElement("option",{className:"grey-text",value:"",disabled:!0,selected:!0},"Choose pincode"),a)))),l.a.createElement("button",{className:"waves-effect  waves-light btn #26c6da cyan lighten-1 remove ",onClick:this.handleSubmit},"Confirm Order")))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).handleUpdate=function(e,t){a.setState({cartItems:e,total:t})},a.state={items:[],isLoading:!0,cartItems:[],total:0,pincodes:[]},a.handleUpdate=a.handleUpdate.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://phuchki.in/v1/getItemDetails/").then(function(e){return e.json()}).then(function(t){e.setState({items:t.data,isLoading:!1})}),fetch("http://phuchki.in/v1/getAvailablePincodes/").then(function(e){return e.json()}).then(function(t){e.setState({pincodes:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(h.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(E,null),l.a.createElement(p.a,null,l.a.createElement(f.a,{exact:!0,path:"/",component:function(){return l.a.createElement(x,{handleUpdate:e.handleUpdate,data:e.state})}}),l.a.createElement(f.a,{path:"/cart",component:function(){return l.a.createElement(I,{handleUpdate:e.handleUpdate,data:e.state})}}))))}}]),t}(n.Component);c.a.render(l.a.createElement(S,null),document.getElementById("root"))}},[[23,2,1]]]);
//# sourceMappingURL=main.4cb91bd1.chunk.js.map